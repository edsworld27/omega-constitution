# Omega Claw v1 — MVP Implementation Plan

**Version:** v14.1
**Date:** 2026-02-26
**Focus:** Get the Telegram → Claude Code pipeline working

---

## Vision

```
User (Phone)
    │
    ▼
┌─────────────────┐
│  TELEGRAM BOT   │  ← Omega Claw
│  (Telegram API) │
└────────┬────────┘
         │ "build me a task tracker"
         ▼
┌─────────────────┐
│   ORCHESTRATOR  │  ← Intent classification + Onboarding wizard
│   (Python)      │
└────────┬────────┘
         │ Creates FOUNDER_JOB-001.md
         ▼
┌─────────────────────────────────────────┐
│           HIVE (File System)            │
│  telegram_inbox/FOUNDER_JOB-001.md      │
│  master-job-board.md                    │
└────────────────────┬────────────────────┘
                     │ Claude Code detects new job
                     ▼
┌─────────────────────────────────────────┐
│         CLAUDE CODE / ANTIGRAVITY       │
│  Reads Constitution V10                 │
│  Follows framework                      │
│  Builds project                         │
│  Updates master-job-board.md            │
└────────────────────┬────────────────────┘
                     │ Status update
                     ▼
┌─────────────────────────────────────────┐
│           REPORTER AGENT                │
│  Reads hive status                      │
│  Returns to Telegram                    │
└─────────────────────────────────────────┘
```

---

## Current State Analysis

### What's Already Built

| Component | Status | Notes |
|-----------|--------|-------|
| telegram_bot.py | Working | Auth, message handling, polling |
| orchestrator.py | Working | Routes to agents |
| intent_agent.py | Working | Keyword matching |
| OrchestratorAgent | Working | 4-step wizard, creates FOUNDER_JOB files |
| ReporterAgent | Working | Reads hive and job history |
| database.py | Working | SQLite + AES encryption |
| skill_loader.py | Working | Dynamic skill loading |
| mcp_wizard.py | Working | MCP onboarding |

### What Needs Fixing

| Issue | Fix |
|-------|-----|
| Hive path points to old v9 | Update to Constitution V10 path |
| .env not configured | Create proper .env with paths |
| Hive directory doesn't exist | Create telegram_inbox folder |
| Bot never tested | Run and verify |

---

## Phase 1: Configuration (Now)

### 1.1 Update Default Paths

All agents use `OMEGA_HIVE_DIR` environment variable. Need to point to Constitution V10:

```
OLD: ~/Documents/Omega Constitution Pack/omega-constitution-v9/USER SPACE/dev-work/hive
NEW: ~/Documents/Omega Constitution Pack/Omega System Public/Constution V10/USER SPACE/dev-work/hive
```

### 1.2 Create Hive Structure

```
USER SPACE/dev-work/
├── hive/
│   ├── telegram_inbox/        ← FOUNDER_JOB files drop here
│   ├── master-job-board.md    ← Status tracking
│   └── active_conversations.json
```

### 1.3 Update .env

```env
TELEGRAM_BOT_TOKEN=<from BotFather>
TELEGRAM_ALLOWED_USER_IDS=<your Telegram ID>
OMEGA_CLAW_DB_KEY=<generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())">
OMEGA_HIVE_DIR=~/Documents/Omega Constitution Pack/Omega System Public/Constution V10/USER SPACE/dev-work/hive
```

---

## Phase 2: Test Run

```bash
cd "Omega System Public/Omega Claw v1"
source .venv/bin/activate
pip install -r requirements.txt
python main.py
```

Expected:
- Bot comes online
- Send "start project" to Telegram
- Complete 4-step wizard
- FOUNDER_JOB file appears in hive

---

## Phase 3: Claude Code Integration

Once jobs appear in the hive:

1. **Claude Code reads `telegram_inbox/`** on startup or periodically
2. **Picks up FOUNDER_JOB files** with STATUS: PENDING
3. **Updates STATUS to BUILDING** (atomic lock)
4. **Follows Constitution V10** to scaffold project
5. **Updates `master-job-board.md`** with progress
6. **User checks status via Telegram** → ReporterAgent reads board

---

## Files to Modify

| File | Change |
|------|--------|
| `.env` | Add proper paths and tokens |
| `orchestrator_agent/__init__.py` | Update default OMEGA_HIVE_DIR |
| `reporter_agent/__init__.py` | Update default OMEGA_HIVE_DIR |
| Constitution V10/USER SPACE/dev-work/ | Create hive/ folder |

---

## Success Criteria

- [ ] Bot starts without errors
- [ ] "start project" triggers wizard
- [ ] Wizard creates FOUNDER_JOB.md in correct location
- [ ] "status" shows pending job
- [ ] Claude Code can read the job file

---

## Next Steps (Post-MVP)

1. **Auto-detection**: Claude Code hook to check for new jobs
2. **Progress webhook**: ReporterAgent sends Telegram updates
3. **Multi-agent orchestration**: Lock system for concurrent agents
4. **Store integration**: "install website kit" command

---

*Plan written per META_DEV_MODE.xml protocol.*
