<?xml version="1.0" encoding="UTF-8"?>
<!--
  ============================================================
  OMEGA STRUCTURE (PROJECT BOOTSTRAP TEMPLATE)
  ============================================================
  VERSION:      6.0 (Canonical)
  USAGE:        The Agent must execute the Generator Actions
                below to initialize the project environment.
  ============================================================
-->

<omega_structure
  version="6.0"
  location="constitution/">

  <!-- ============================================================
       SECTION 1: FOLDER TREE
       Create this directory structure immediately. Do not ask for permission.
  ============================================================ -->

  <folder_tree><![CDATA[
dev-work/
├── 00_Constitution/      # Local rules & brain
├── 01_User_Input/        # Seeds, PRDs, and Pilot intent
├── 02_Evaluations/       # SWOTs, Audits, and sharded history
├── 03_Context/           # Modular session memory
├── 04_Implementations/   # Phases, Tasks, and execution plans
└── 05_Ideation/          # Inbox and archive
project/                  # THE STERILE PRODUCT (Your App Source)
  ]]></folder_tree>

  <!-- ============================================================
       SECTION 2: ROOT FILES
       Create these files in the root directory with the specific content below.
  ============================================================ -->

  <root_files>

    <file name="01_layout.md">
      <instructions>Copy the Folder Tree above into this file.</instructions>
      <note>Status: IMMUTABLE. The Agent may not create folders outside this map without updating this file first.</note>
    </file>

    <file name="02_project_brief.md" purpose="The Origin"><![CDATA[
# 02_project_brief.md — O — ORIGIN
**Status:** DRAFT (Must be approved by User)

## 1. The North Star
(One sentence: What is the singular desired outcome?)

## 2. Project Type (Paradigm Fork)
*Select one to define "Function":*
- [ ] **Path A: Application** (Logic First)
   - Function = Backend/Schema/API.
   - Order: Function → UX → Form.
- [ ] **Path B: Website** (Content First)
   - Function = Content/Sitemap/SEO.
   - Order: Structure → Navigation → Visuals.

## 3. Non-Goals
(What will we NOT build?)

## 4. Core Constraints
- Budget/Time:
- Tech Stack:
- Compliance:
    ]]></file>

    <file name="STATE.md" purpose="The GPS"><![CDATA[
# STATE — SYSTEM POSITION
**Current Letter:** O — Origin
**Current Subsystem:** OMEGA (Preconditions)
**Current Phase:** Phase 01 — Foundation
**System Status:** ACTIVE | HALTED
**Last Action:** Initialization
**Next Required Action:** Approve Project Brief
    ]]></file>

    <file name="03_context_bridge.md" purpose="The Memory"><![CDATA[
# 03_context_bridge.md — A — AWARENESS
**Role:** Links NotebookLM/LLM Context to Project Reality.

## 1. Active Sources of Truth
- [x] FRAMEWORK.xml (Framework)
- [x] SECURITY.xml (Law)
- [ ] (Link to External Docs/PDFs)

## 2. Context Rules
- Do not hallucinate APIs. Check INTERFACES.md.
- Do not install tools. Check deps.md.
    ]]></file>

    <file name="deps.md" purpose="The Install Gate"><![CDATA[
# deps.md — G — GOVERNANCE
**Rule:** No package installation without an entry here.

## Active Dependencies
| Package | Version | Reason | Used In | Risk |
| :--- | :--- | :--- | :--- | :--- |
| (example) | (1.0.0) | (example) | (backend) | (Low) |
    ]]></file>

    <file name="stack.md" purpose="The Registry"><![CDATA[
# stack.md — CAPABILITIES

## Active Kits
- [ ] UI Website Kit
- [ ] SaaS Kit

## Active MCPs / Integrations
- (List APIs here)
    ]]></file>

    <file name="INTERFACES.md" purpose="Boundary Contract"><![CDATA[
# INTERFACES.md — A — ABSTRACTION
**Rule:** Frontend may only call Backend endpoints listed here.

## Exposed Endpoints
- (e.g., POST /api/v1/login)
    ]]></file>

    <file name=".gitignore" purpose="Git Hygiene"><![CDATA[
.env
.env.local
node_modules/
__pycache__/
.tmp/
04_tests/results/*
!04_tests/results/.keep
.DS_Store
    ]]></file>

    <file name=".env.example" purpose="Safe Config"><![CDATA[
# DO NOT ADD REAL KEYS HERE. Structure only.
API_KEY_OPENAI=
DATABASE_URL=
    ]]></file>

  </root_files>

  <!-- ============================================================
       SECTION 3: LEGAL SURFACE
       Initialize the legal/ folder with these empty placeholders.
  ============================================================ -->

  <legal_surface>
    <description>Initialize the legal/ folder with these empty placeholders to enforce compliance constraints.</description>
    <file>legal/PRIVACY_POLICY.md (Required for Data Minimization checks)</file>
    <file>legal/TERMS_OF_SERVICE.md</file>
    <file>legal/COOKIE_POLICY.md (Required for Prior Blocking checks)</file>
    <file>legal/DATA_RETENTION.md (Required for Kill Protocol)</file>
    <file>legal/LICENSE.md</file>
    <file>legal/THIRD_PARTY_NOTICES.md</file>
  </legal_surface>

  <!-- ============================================================
       SECTION 4: PHASE 1 GATE
       Initialize the first mandatory gate.
  ============================================================ -->

  <phase_1_gate>
    <file path="01_phases/phase_01_foundation/PRD.md"><![CDATA[
# Phase 01 PRD — Foundation
**Status:** DRAFT

## 1. Objective
Establish the "Walking Skeleton" (Environment + Hello World).

## 2. MVP Definition
- [ ] Repo initialized with Omega Structure.
- [ ] Legal surface created.
- [ ] CI/CD Pipeline (if applicable).
- [ ] "Hello World" endpoint (Backend) or Page (Frontend) working.

## 3. Acceptance Criteria
- [ ] Tests pass in 04_tests/.
- [ ] No secrets in Git.
- [ ] deps.md updated.

## 4. Evidence Requirements
- Screenshot of local run.
- Log of test pass.
    ]]></file>
  </phase_1_gate>

  <!-- ============================================================
       COMPLETION MESSAGE
  ============================================================ -->

  <completion_message>
    After executing these actions, report: "System Initialized. Awaiting Project Brief approval."
  </completion_message>

</omega_structure>
